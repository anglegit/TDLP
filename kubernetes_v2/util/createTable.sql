create table groups (gid int(8) unsigned not null auto_increment, groupName varchar(128) not null, primary key (gid), unique key groupName (groupName)) engine=InnoDB auto_increment=1001 default charset=utf8;
create table users (uid int(8) unsigned not null auto_increment, userName varchar(128) not null, email varchar(128) not null, realName varchar(128) default "", phone varchar(128) default "", organization varchar(128) default "", avatar varchar(128) default "", createTime datetime not null, lastLogin datetime not null, active tinyint(1) not null default 0, gid int(8) unsigned default null, role tinyint(2) not null default 0, primary key (uid), unique key userName (userName), key gid (gid), constraint gid foreign key (gid) references groups (gid) on delete set null on update no action) engine=InnoDB auto_increment=1001 default charset=utf8;
create table templates (tid int(8) unsigned not null auto_increment, templateName varchar(128) not null, path varchar(128) not null, info text not null, param text not null, primary key (tid), unique key templateName (templateName)) engine=InnoDB auto_increment=1 default charset=utf8;
create table apps (aid int(8) unsigned not null auto_increment, appName varchar(128) not null, tid int(8) unsigned default null, uid int(8) unsigned not null, param text not null, state tinyint(1) not null default 0, createTime datetime not null, deleteTime datetime default null, primary key (aid), key appName (appName), key tid (tid), key uid (uid), constraint tid foreign key (tid) references templates (tid) on delete set null on update no action, constraint uid foreign key (uid) references users (uid) on delete cascade on update no action) engine=InnoDB auto_increment=1 default charset=utf8;
create table proxys (pid int(8) unsigned not null auto_increment, proxyName varchar(128) not null, aid int(8) unsigned not null, ip varchar(128) not null, port int(8) not null, protocol varchar(8) not null, suffix varchar(128) not null, wsSuffix varchar(128) not null, primary key (pid), key aid (aid), constraint aid foreign key (aid) references apps (aid) on delete cascade on update no action) engine=InnoDB auto_increment=1 default charset=utf8;